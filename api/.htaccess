RewriteEngine On
# RewriteCond %{REQUEST_FILENAME} !-f
# RewriteCond %{REQUEST_FILENAME} !-d
# RewriteCond %{HTTP_COOKIE} "userId=([^;]+)" [NC]
# RewriteRule ^api/(?<!(\.php))$ /api/$1.php [L,R] # <- for test, for prod use [L,R=301]

RewriteRule ^login$ /api/login.php [L,NC] # [L] - last rule # [NC] - case insensitive
RewriteRule ^logout$ /api/logout.php [L,NC] # [L] - last rule # [NC] - case insensitive

# RewriteRule ^/users/([^/]+)$ /api/users.php?userId=$1 [L,R] # <- for test, for prod use [L,R=301]